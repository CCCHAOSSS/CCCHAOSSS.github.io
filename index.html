<!DOCTYPE html>
<html lang="zh-CN">
<script type="text/javascript" src="/js/src/dytitle.js"></script>
<head>
    <!--pjaxï¼šé˜²æ­¢è·³è½¬é¡µé¢éŸ³ä¹æš‚åœ-->
  <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script> 
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-neko.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16gl-N.png">
  <link rel="mask-icon" href="/images/logo-N.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:ital/css?family=Ubuntu:ital:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ccchaosss.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":{"valine":{"order":-1}},"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":-1,"unescape":true,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
<meta property="og:type" content="website">
<meta property="og:title" content="NekoCyan&#39;s Blog">
<meta property="og:url" content="https://ccchaosss.github.io/index.html">
<meta property="og:site_name" content="NekoCyan&#39;s Blog">
<meta property="og:description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="NekoCyan">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://ccchaosss.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>NekoCyan's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">NekoCyan's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">æ­£åœ¨è¯»ä¸‡å·ä¹¦ï¼Œæƒ³è¦è¡Œä¸‡é‡Œè·¯</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">28</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">8</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">21</span></a>

  </li>
        <li class="menu-item menu-item-nekoçš„æ¨è">

    <a href="/neko_re/" rel="section"><i class="fa fa-icons fa-fw"></i>nekoçš„æ¨è</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/04/21/learn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/04/21/learn/" class="post-title-link" itemprop="url">ã€Hello Worldã€‘</a>
        </h2>

        <div class="post-meta">

          
            <i class="fa fa-thumb-tack"></i>
              <font color=CD69C9>ç½®é¡¶</font>
              <span class="post-meta-divider">|</span>
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-04-21 14:59:00" itemprop="dateCreated datePublished" datetime="2024-04-21T14:59:00+08:00">2024-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2024-04-27 21:34:13" itemprop="dateModified" datetime="2024-04-27T21:34:13+08:00">2024-04-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily/" itemprop="url" rel="index"><span itemprop="name">Daily</span></a>
                </span>
            </span>

          
            <span id="/2024/04/21/learn/" class="post-meta-item leancloud_visitors" data-flag-title="ã€Hello Worldã€‘" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/04/21/learn/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/04/21/learn/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>hi è¿™é‡Œæ˜¯nekoï¼Œè¯·å¤šæŒ‡æ•™ï¼</p>
<p>è¿™æ˜¯é•‡æ¥¼å¸–ğŸ±~<br>ä¹‹åä¼šåœ¨åšå®¢é‡Œè®°å½•ä¸€äº›å¹³æ—¶çš„å­¦ä¹ ç¬”è®°ä»¥åŠå¿ƒæƒ…æ—¥è®°ä¹‹ç±»çš„ï¼Œå¶å°”ç©¿æ’ä¸€äº›æ¸¸æˆhhh</p>
<p>ä¸‹é¢æ˜¯è¯•ç€æ’å…¥ä¸€æ®µä»£ç ï¼ŒåŸºäºpytorchæ¡†æ¶ä½¿ç”¨Resnet18å®ç°CIFAR10æ•°æ®é›†åˆ†ç±»ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn, optim</span><br><span class="line"><span class="keyword">import</span> torchvision.transforms <span class="keyword">as</span> transforms</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> restnet18.restnet18 <span class="keyword">import</span> RestNet18</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/04/21/learn/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7/" class="post-title-link" itemprop="url">ã€hmdpã€‘ç¼“å­˜ä¸€è‡´æ€§</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-18 10:37:48 / ä¿®æ”¹æ—¶é—´ï¼š10:38:35" itemprop="dateCreated datePublished" datetime="2024-05-18T10:37:48+08:00">2024-05-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          
            <span id="/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7/" class="post-meta-item leancloud_visitors" data-flag-title="ã€hmdpã€‘ç¼“å­˜ä¸€è‡´æ€§" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%A7%92%E6%9D%80%E8%B6%85%E5%8D%96%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%A7%92%E6%9D%80%E8%B6%85%E5%8D%96%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">ã€hmdpã€‘ç§’æ€è¶…å–ä¸ä¸€äººä¸€å•é—®é¢˜</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-18 10:22:50 / ä¿®æ”¹æ—¶é—´ï¼š15:09:29" itemprop="dateCreated datePublished" datetime="2024-05-18T10:22:50+08:00">2024-05-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
                </span>
            </span>

          
            <span id="/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%A7%92%E6%9D%80%E8%B6%85%E5%8D%96%E9%97%AE%E9%A2%98/" class="post-meta-item leancloud_visitors" data-flag-title="ã€hmdpã€‘ç§’æ€è¶…å–ä¸ä¸€äººä¸€å•é—®é¢˜" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%A7%92%E6%9D%80%E8%B6%85%E5%8D%96%E9%97%AE%E9%A2%98/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/18/%E3%80%90hmdp%E3%80%91%E7%A7%92%E6%9D%80%E8%B6%85%E5%8D%96%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ä½¿ç”¨ä¹è§‚é”â€”è¶…å–é—®é¢˜"><a href="#ä½¿ç”¨ä¹è§‚é”â€”è¶…å–é—®é¢˜" class="headerlink" title="ä½¿ç”¨ä¹è§‚é”â€”è¶…å–é—®é¢˜"></a>ä½¿ç”¨ä¹è§‚é”â€”è¶…å–é—®é¢˜</h2><p>åœ¨å®Œå…¨ä¸è€ƒè™‘å…¶ä»–é—®é¢˜æ—¶å€™ï¼Œæ•´ä¸ªä¸šåŠ¡æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>æŸ¥è¯¢ä¼˜æƒ å·</li>
<li>åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</li>
<li>åˆ¤æ–­ç§’æ€æ˜¯å¦ç»“æŸ</li>
<li>åˆ¤æ–­ä¼˜æƒ å·æ˜¯å¦å……è¶³</li>
<li>æ‰£å‡åº“å­˜</li>
<li>åˆ›å»ºè®¢å•</li>
<li>è¿”å›è®¢å•id</li>
</ol>
<p>ç”±äºåœ¨è¯¥æ–¹æ³•ä¸­æ¶‰åŠåˆ°æ‰£å‡åº“å­˜å’Œåˆ›å»ºè®¢å•ï¼Œæ˜¯å¯¹ä¸¤ä¸ªè¡¨è¿›è¡Œå†™æ“ä½œï¼Œè¦åŠ ä¸Šäº‹åŠ¡æ³¨è§£<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.æŸ¥è¯¢ä¼˜æƒ å·</span></span><br><span class="line">        <span class="type">SeckillVoucher</span> <span class="variable">voucher</span> <span class="operator">=</span> seckillVoucherService.getById(voucherId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getBeginTime().isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å°šæœªå¼€å§‹&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.åˆ¤æ–­ç§’æ€æ˜¯å¦ç»“æŸ</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getEndTime().isBefore(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å·²ç»ç»“æŸ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getStock() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.æ‰£å‡åº“å­˜  </span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">                .setSql(<span class="string">&quot;stock = stock - 1&quot;</span>)    <span class="comment">// set stock = stock - 1</span></span><br><span class="line">                .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId)</span><br><span class="line">                .update();</span><br><span class="line">        <span class="keyword">if</span>(!success)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.åˆ›å»ºè®¢å•</span></span><br><span class="line">        <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">        <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">        voucherOrder.setId(orderId);</span><br><span class="line"></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">        voucherOrder.setUserId(userId);</span><br><span class="line"></span><br><span class="line">        voucherOrder.setVoucherId(voucherId);</span><br><span class="line">        save(voucherOrder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.è¿”å›è®¢å•id</span></span><br><span class="line">        <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨jmterè¿›è¡Œç§’æ€ï¼Œ200çº¿ç¨‹ï¼Œå•äººï¼Œ100å¼ ä¼˜æƒ å·ã€‚å¾ˆæ˜æ˜¾ä¼šè¶…å–ï¼ŒæŸ¥çœ‹æ•°æ®åº“æ­¤æ—¶åº“å­˜ä¸º-9ã€‚<br><img src="/images/ç§’æ€é—®é¢˜å›¾1.png" alt="ç§’æ€ä¸€"></p>
<h2 id="ä½¿ç”¨CASé”è§£å†³"><a href="#ä½¿ç”¨CASé”è§£å†³" class="headerlink" title="ä½¿ç”¨CASé”è§£å†³"></a>ä½¿ç”¨CASé”è§£å†³</h2><p>æ“ä½œç®€å•ï¼Œåœ¨æ‰§è¡Œåº“å­˜æ‰£å‡æ—¶å€™åŠ ä¹è§‚é”ï¼ˆæ¯”æ‚²è§‚é”å¹¶å‘åº¦æ›´é«˜ä¸€ç‚¹ï¼‰ï¼Œå³åœ¨æ‰£å‡åº“å­˜æ—¶å€™åˆ¤æ–­æ­¤æ—¶åº“å­˜æ˜¯å¦è¿˜å¤§äº0ã€‚è¿™é‡Œçš„æ€æƒ³å°±æ˜¯<strong>ç‰ˆæœ¬å·</strong>ï¼Œä¿è¯æˆ‘ç°åœ¨ä¿®æ”¹çš„å­—æ®µåœ¨æˆ‘æŸ¥è¯¢åˆ°ç›®å‰è¿™æ®µæ—¶é—´å†…æ²¡æœ‰è¢«ä¿®æ”¹ï¼ˆè¿™é‡Œè¢«ä¿®æ”¹ä¹Ÿæ²¡äº‹ï¼Œåªè¦è¿˜å¤§äº0å°±è¡Œï¼‰</p>
<p>åªéœ€ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5.æ‰£å‡åº“å­˜  ä½¿ç”¨CASé”è§£å†³è¶…å–ï¼ˆä¹è§‚é”ï¼‰</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">                .setSql(<span class="string">&quot;stock = stock - 1&quot;</span>)    <span class="comment">// set stock = stock - 1</span></span><br><span class="line">                .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).gt(<span class="string">&quot;stock&quot;</span>, <span class="number">0</span>) <span class="comment">//where id = ? and stock &gt; 0</span></span><br><span class="line">                .update();</span><br><span class="line">        <span class="keyword">if</span>(!success)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>
<p>å†ç”¨jmeterè¿›è¡Œå‹æµ‹ï¼Œç»“æœä¸ºï¼š<br><img src="/images/ç§’æ€é—®é¢˜å›¾1.png" alt="å›¾2"><br>å¼‚å¸¸ä¸º200%ï¼Œè¯´æ˜åˆšåˆšå¥½100ä¸ªçº¿ç¨‹æŠ¢åˆ°äº†ï¼Œ100ä¸ªæ²¡æŠ¢åˆ°ã€‚</p>
<h2 id="ä½¿ç”¨synchronized-ä¸€äººä¸€å•é—®é¢˜"><a href="#ä½¿ç”¨synchronized-ä¸€äººä¸€å•é—®é¢˜" class="headerlink" title="ä½¿ç”¨synchronized  ä¸€äººä¸€å•é—®é¢˜"></a>ä½¿ç”¨synchronized  ä¸€äººä¸€å•é—®é¢˜</h2><p>åŸºäºä¸Šï¼Œåœ¨ä¸è€ƒè™‘å…¶ä»–é—®é¢˜æ—¶ï¼Œæ•´ä¸ªä¸šåŠ¡æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æŸ¥è¯¢ä¼˜æƒ å·</li>
<li>åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</li>
<li>åˆ¤æ–­ç§’æ€æ˜¯å¦ç»“æŸ</li>
<li>åˆ¤æ–­ä¼˜æƒ å·åº“å­˜æ˜¯å¦å……è¶³</li>
<li>åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦å·²ä¹°è¿‡ä¼˜æƒ å·</li>
<li>æ‰£å‡åº“å­˜[å·²æŒ‰ä¸Šæ–‡åŠ é”,ä¿è¯æ­£ç¡®æ‰£å‡]</li>
<li>åˆ›å»ºè®¢å•</li>
<li>è¿”å›è®¢å•id</li>
</ol>
<p>ä½¿ç”¨å•ä¸ªç”¨æˆ·ï¼ˆè¯·æ±‚å¤´ç”¨çš„ç—›ä¸€ä¸ªtokenï¼‰200ä¸ªçº¿ç¨‹ä¸‹å•ï¼Œæ•°æ®åº“æ˜¾ç¤ºåŒä¸€ä¸ªuserä¸‹äº†å¤šä¸ªå•ã€‚<br><img src="/images/ä¸€äººä¸€å•1.png" alt="ä¸€äººä¸€å•1"></p>
<blockquote>
<p>å•ä¸ªçº¿ç¨‹çš„<strong>å…ˆè¯»åå†™</strong>è¦è€ƒè™‘åŸå­æ€§ã€‚</p>
</blockquote>
<p>ä½¿ç”¨<code>synchronized</code>å¯¹ç”¨æˆ·åŠ é”ï¼ˆåŸæœ¬åœ¨serviceä¸ŠåŠ é”çš„(?)ï¼Œä½†æ˜¯ç»™æ–¹æ³•åŠ é”å°±å˜æˆä¸²è¡Œäº†ï¼‰è¿™é‡Œç”¨æˆ·ä¹‹é—´å„ä¸å½±å“ï¼Œåªè¦ä¿è¯åŒä¸€ç”¨æˆ·ä¸ä¹°ä¸¤æ¬¡ï¼Œæ‰€ä»¥å¯¹ç”¨æˆ·åŠ é”å°±è¡Œã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.æŸ¥è¯¢ä¼˜æƒ å·</span></span><br><span class="line">        <span class="type">SeckillVoucher</span> <span class="variable">voucher</span> <span class="operator">=</span> seckillVoucherService.getById(voucherId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getBeginTime().isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å°šæœªå¼€å§‹&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.åˆ¤æ–­ç§’æ€æ˜¯å¦ç»“æŸ</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getEndTime().isBefore(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å·²ç»ç»“æŸ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getStock() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//8.è¿”å›è®¢å•id</span></span><br><span class="line">        <span class="keyword">return</span> createVoucherOrder(voucherId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">createVoucherOrder</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">        <span class="comment">//5.ä¸€äººä¸€å•</span></span><br><span class="line">        <span class="comment">//5.1 æŸ¥è¯¢è®¢å•</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">        <span class="keyword">synchronized</span> (userId.toString().intern())&#123;</span><br><span class="line">            <span class="comment">//5.2æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦å·²ç»ä¸‹è¿‡å•</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> query().eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).count();</span><br><span class="line">            <span class="keyword">if</span>(count &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> Result.fail(<span class="string">&quot;è¯¥ç”¨æˆ·å·²ç»è´­ä¹°è¿‡ä¸€æ¬¡ä¼˜æƒ åˆ¸&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//6.æ‰£å‡åº“å­˜  ä½¿ç”¨CASé”è§£å†³è¶…å–ï¼ˆä¹è§‚é”ï¼‰</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">                    .setSql(<span class="string">&quot;stock = stock - 1&quot;</span>)    <span class="comment">// set stock = stock - 1</span></span><br><span class="line">                    .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).gt(<span class="string">&quot;stock&quot;</span>, <span class="number">0</span>) <span class="comment">//where id = ? and stock &gt; 0</span></span><br><span class="line">                    .update();</span><br><span class="line">            <span class="keyword">if</span>(!success)&#123;</span><br><span class="line">                <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//7.åˆ›å»ºè®¢å•</span></span><br><span class="line">            <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">            <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">            voucherOrder.setId(orderId);</span><br><span class="line"></span><br><span class="line">            voucherOrder.setUserId(userId);</span><br><span class="line"></span><br><span class="line">            voucherOrder.setVoucherId(voucherId);</span><br><span class="line">            save(voucherOrder);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>toString()è¦ç”¨userId.toString().intern()ï¼Œç¡®ä¿ç”¨æˆ·idä¸€æ ·æ—¶é”è¦ä¸€æ ·</p>
</blockquote>
<p>ç„¶è€Œè¿™æ ·è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå› ä¸ºè¿™æ®µä»£ç ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (userId.toString().intern())&#123;</span><br><span class="line">   .....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨<code>public Result createVoucherOrder(Long voucherId)</code>æ–¹æ³•å†…éƒ¨ï¼ŒåŒä¸€ä¸ªç”¨æˆ·ä¸€ä¸ªçº¿ç¨‹è¿›æ¥äº†åˆ¤æ–­æ²¡ä¸‹è¿‡å•ç„¶ååˆ›å»ºè®¢å•äº†è¿˜æ²¡æäº¤ï¼Œä½†æ˜¯å·²ç»è¿›è¡Œåˆ°createVoucherOrderå†…åˆå·²ç»é‡Šæ”¾äº†é”ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹çš„è¯¥ç”¨æˆ·å°±åˆå¯ä»¥æ‹¿åˆ°é”è¿›å…¥è¯¥æ–¹æ³•ï¼Œåœ¨åˆ¤æ–­æ˜¯å¦å·²ä¸‹å•å¤„å‘ç°è¿˜æ²¡ä¸‹å•ï¼Œå°±åˆåˆ›å»ºä¸€ä¸ªè®¢å•äº†ã€‚å¯¹ä¸€ä¸ªç”¨æˆ·æ¥è¯´ä»ç„¶å¤šä¸‹å•äº†ã€‚å› æ­¤è¦<strong>å…ˆè·å–é”å†è¿›å…¥<code>createVoucherOrder</code></strong>ï¼Œæ–¹æ³•å®Œå…¨ç»“æŸåå†é‡Šæ”¾é”ï¼Œæ­¤æ—¶ä¸€å®šæäº¤äº†ä»»åŠ¡ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">seckillVoucher</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.æŸ¥è¯¢ä¼˜æƒ å·</span></span><br><span class="line">        <span class="type">SeckillVoucher</span> <span class="variable">voucher</span> <span class="operator">=</span> seckillVoucherService.getById(voucherId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.åˆ¤æ–­ç§’æ€æ˜¯å¦å¼€å§‹</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getBeginTime().isAfter(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å°šæœªå¼€å§‹&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.åˆ¤æ–­ç§’æ€æ˜¯å¦ç»“æŸ</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getEndTime().isBefore(LocalDateTime.now())) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;ç§’æ€å·²ç»ç»“æŸ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.åˆ¤æ–­åº“å­˜æ˜¯å¦å……è¶³</span></span><br><span class="line">        <span class="keyword">if</span> (voucher.getStock() &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line"></span><br><span class="line">         <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * é”åŠ åœ¨è¿™é‡Œ</span></span><br><span class="line"><span class="comment">         * */</span></span><br><span class="line">        <span class="keyword">synchronized</span> (userId.toString().intern())&#123;</span><br><span class="line">            <span class="comment">//ä»£ç†å¯¹è±¡ï¼Œèƒ½ä¿è¯äº‹åŠ¡</span></span><br><span class="line">            <span class="type">IVoucherOrderService</span> <span class="variable">proxy</span> <span class="operator">=</span> (IVoucherOrderService) AopContext.currentProxy();</span><br><span class="line">            <span class="comment">//8.è¿”å›è®¢å•id</span></span><br><span class="line">            <span class="keyword">return</span> proxy.createVoucherOrder(voucherId);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">createVoucherOrder</span><span class="params">(Long voucherId)</span> &#123;</span><br><span class="line">        <span class="comment">//5.ä¸€äººä¸€å•</span></span><br><span class="line">        <span class="comment">//5.1 æŸ¥è¯¢è®¢å•</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> UserHolder.getUser().getId();</span><br><span class="line">            <span class="comment">//5.2æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦å·²ç»ä¸‹è¿‡å•</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> query().eq(<span class="string">&quot;user_id&quot;</span>, userId).eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).count();</span><br><span class="line">        <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;è¯¥ç”¨æˆ·å·²ç»è´­ä¹°è¿‡ä¸€æ¬¡ä¼˜æƒ åˆ¸&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.æ‰£å‡åº“å­˜  ä½¿ç”¨CASé”è§£å†³è¶…å–ï¼ˆä¹è§‚é”ï¼‰</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">success</span> <span class="operator">=</span> seckillVoucherService.update()</span><br><span class="line">                .setSql(<span class="string">&quot;stock = stock - 1&quot;</span>)    <span class="comment">// set stock = stock - 1</span></span><br><span class="line">                .eq(<span class="string">&quot;voucher_id&quot;</span>, voucherId).gt(<span class="string">&quot;stock&quot;</span>, <span class="number">0</span>) <span class="comment">//where id = ? and stock &gt; 0</span></span><br><span class="line">                .update();</span><br><span class="line">        <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.fail(<span class="string">&quot;åº“å­˜ä¸è¶³&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.åˆ›å»ºè®¢å•</span></span><br><span class="line">        <span class="type">VoucherOrder</span> <span class="variable">voucherOrder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VoucherOrder</span>();</span><br><span class="line">        <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> redisIdWorker.nextId(<span class="string">&quot;order&quot;</span>);</span><br><span class="line">        voucherOrder.setId(orderId);</span><br><span class="line"></span><br><span class="line">        voucherOrder.setUserId(userId);</span><br><span class="line"></span><br><span class="line">        voucherOrder.setVoucherId(voucherId);</span><br><span class="line">        save(voucherOrder);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.ok(orderId);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br>ä½†æ˜¯ï¼Œè¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªspringäº‹åŠ¡å¤±æ•ˆçš„é—®é¢˜ï¼Œä¸Šè¿°ä»£ç ä¸­çš„ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (userId.toString().intern())&#123;</span><br><span class="line">            <span class="comment">//ä»£ç†å¯¹è±¡ï¼Œèƒ½ä¿è¯äº‹åŠ¡</span></span><br><span class="line">            <span class="type">IVoucherOrderService</span> <span class="variable">proxy</span> <span class="operator">=</span> (IVoucherOrderService) AopContext.currentProxy();</span><br><span class="line">            <span class="comment">//8.è¿”å›è®¢å•id</span></span><br><span class="line">            <span class="keyword">return</span> proxy.createVoucherOrder(voucherId);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><br>å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜[TODO:è¿™é‡Œä¸ä¼š]</p>
<p>æœ€åç»“æœï¼Œä½¿ç”¨jemterä¸€ä¸ªç”¨æˆ·200çº¿ç¨‹<br><img src="/images/ä¸€äººä¸€å•2.png" alt="ä¸€äººä¸€å•2"><br>åªä¸‹äº†ä¸€å•</p>
<h2 id="é›†ç¾¤æ¨¡å¼ä¸‹-ä¸€äººä¸€å•é—®é¢˜"><a href="#é›†ç¾¤æ¨¡å¼ä¸‹-ä¸€äººä¸€å•é—®é¢˜" class="headerlink" title="é›†ç¾¤æ¨¡å¼ä¸‹ ä¸€äººä¸€å•é—®é¢˜"></a>é›†ç¾¤æ¨¡å¼ä¸‹ ä¸€äººä¸€å•é—®é¢˜</h2><p><code>synchronized</code>åªèƒ½æ»¡è¶³å•ä½“é¡¹ç›®ã€‚å› ä¸ºæ˜¯JVMçº§åˆ«çš„é”ï¼Œé”ç›‘è§†å™¨åªèƒ½ç›‘è§†å½“å‰JVMä¸­çš„é”ï¼Œé›†ç¾¤æ¨¡å¼ä¸‹æœ‰å¤šä¸ªJVMã€‚</p>
<p>è¦ç”¨<strong>åˆ†å¸ƒå¼é”</strong>ã€‚<br>åŸºæœ¬ä¸šåŠ¡æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å°è¯•è·å–é”ï¼ˆå­˜å…¥çº¿ç¨‹idï¼‰</li>
<li>åˆ¤æ–­è·å–ç»“æœ</li>
<li>è·å–æˆåŠŸåˆ™æ‰§è¡Œä¸šåŠ¡é€»è¾‘<ol>
<li>ä¸šåŠ¡è¶…æ—¶æˆ–æœåŠ¡å™¨å®•æœºåˆ™é‡Šæ”¾é”</li>
</ol>
</li>
<li>æ‰§è¡Œå®Œæ¯•é‡Šæ”¾é”</li>
</ol>
<p>åŸºæœ¬å®ç°å¦‚ä¸‹ï¼ˆåœ¨ä¸Šè¿°ä»£ç ä¸Šä¿®æ”¹ï¼‰ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">        * é”åŠ åœ¨è¿™é‡Œ</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">       <span class="comment">//åˆ›å»ºé”å¯¹è±¡ï¼Œè·å–é”</span></span><br><span class="line">       <span class="type">SimpleRedisLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleRedisLock</span>(<span class="string">&quot;order:&quot;</span> + userId, stringRedisTemplate);</span><br><span class="line"></span><br><span class="line">       <span class="type">boolean</span> <span class="variable">isLock</span> <span class="operator">=</span> lock.tryLock(<span class="number">10L</span>);</span><br><span class="line">       <span class="keyword">if</span> (!isLock)&#123;</span><br><span class="line">           <span class="comment">//è·å–é”å¤±è´¥ï¼Œè¿”å›é”™è¯¯</span></span><br><span class="line">           <span class="keyword">return</span> Result.fail(<span class="string">&quot;ä¸å…è®¸é‡å¤ä¸‹å•&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">//è·å–ä»£ç†å¯¹è±¡ï¼Œç¡®ä¿äº‹åŠ¡ç”Ÿæ•ˆ</span></span><br><span class="line">           <span class="type">IVoucherOrderService</span> <span class="variable">proxy</span> <span class="operator">=</span> (IVoucherOrderService) AopContext.currentProxy();</span><br><span class="line">           <span class="comment">//8.è¿”å›è®¢å•id</span></span><br><span class="line">           <span class="keyword">return</span> proxy.createVoucherOrder(voucherId);</span><br><span class="line">       &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">           <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">           lock.unLock();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="ä½†æ˜¯ä¼šå‘ç”Ÿè¯¯åˆ é”çš„é—®é¢˜ï¼ˆå¯¹åŒä¸€ä¸ªç”¨æˆ·æ¥è¯´ï¼‰ï¼š"><a href="#ä½†æ˜¯ä¼šå‘ç”Ÿè¯¯åˆ é”çš„é—®é¢˜ï¼ˆå¯¹åŒä¸€ä¸ªç”¨æˆ·æ¥è¯´ï¼‰ï¼š" class="headerlink" title="ä½†æ˜¯ä¼šå‘ç”Ÿè¯¯åˆ é”çš„é—®é¢˜ï¼ˆå¯¹åŒä¸€ä¸ªç”¨æˆ·æ¥è¯´ï¼‰ï¼š"></a>ä½†æ˜¯ä¼šå‘ç”Ÿè¯¯åˆ é”çš„é—®é¢˜ï¼ˆå¯¹åŒä¸€ä¸ªç”¨æˆ·æ¥è¯´ï¼‰ï¼š</h3><p><code>&quot;order:&quot; + userId</code><br><img src="image.png" alt="alt text"></p>
<p>æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å°è¯•è·å–é”ï¼ˆå­˜å…¥çº¿ç¨‹idï¼‰</li>
<li>åˆ¤æ–­è·å–ç»“æœ</li>
<li>è·å–æˆåŠŸåˆ™æ‰§è¡Œä¸šåŠ¡é€»è¾‘<ol>
<li>ä¸šåŠ¡è¶…æ—¶æˆ–æœåŠ¡å™¨å®•æœºåˆ™é‡Šæ”¾é”</li>
</ol>
</li>
<li>ä¸šåŠ¡æ‰§è¡Œå®Œæ¯•</li>
<li>è·å–é”çš„çº¿ç¨‹æ ‡è¯†</li>
<li>åˆ¤æ–­æ˜¯å¦ä¸æŒ‡å®šæ ‡è¯†ï¼ˆå½“å‰çº¿ç¨‹ï¼‰ç›¸åŒ</li>
<li>ä¸€è‡´åˆ™é‡Šæ”¾</li>
</ol>
<h3 id="ç»§ç»­ä¼˜åŒ–"><a href="#ç»§ç»­ä¼˜åŒ–" class="headerlink" title="ç»§ç»­ä¼˜åŒ–"></a>ç»§ç»­ä¼˜åŒ–</h3><p><img src="image-1.png" alt="alt text"><br>å°±æ˜¯çº¿ç¨‹1åœ¨å³å°†é‡Šæ”¾é”çš„æ—¶å€™ã€è¿™ä¸ªæ—¶å€™æ˜¯<strong>å·²ç»ç»è¿‡åˆ¤æ–­é”</strong>æ˜¯å¦æ˜¯è‡ªå·±çš„ã€‘å‘ç”Ÿäº†é˜»å¡ï¼Œç„¶åè¶…æ—¶äº†ï¼Œé”è‡ªå·±é‡Šæ”¾æ‰äº†ã€‚<br>å¦ä¸€ä¸ªçº¿ç¨‹2è¿›æ¥åè·å–åˆ°äº†é”ï¼Œç„¶åçº¿ç¨‹1é˜»å¡å®Œäº†é‡Šæ”¾é”ï¼Œå°±ä¼šæŠŠçº¿ç¨‹2çš„é”æ”¾æ‰ã€éƒ½æ˜¯é’ˆå¯¹åŒä¸€ä¸ªç”¨æˆ·è€Œè¨€ã€‘ã€‚</p>
<p><strong>äº§ç”Ÿçš„åŸå› ï¼šåˆ¤æ–­é”æ ‡è¯†å’Œé‡Šæ”¾é”çš„åŠ¨ä½œä¸æ˜¯åŸå­æ€§æ“ä½œã€‚</strong><br>å› æ­¤ç”¨Redisçš„Luaè„šæœ¬å®ç°åŸå­æ€§æ“ä½œã€‚</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æ¯”è¾ƒçº¿ç¨‹æ ‡è¯†ä¸é”ä¸­çš„æ ‡è¯†æ˜¯å¦ä¸€è‡´</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(redis.call(<span class="string">&quot;get&quot;</span>,KEYS[<span class="number">1</span>]) == ARGV[<span class="number">1</span>]) <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--é‡Šæ”¾é”</span></span><br><span class="line">    <span class="keyword">return</span> redis.call(<span class="string">&quot;del&quot;</span>,KEYS[<span class="number">1</span>])<span class="comment">--</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨é”å®ç°ç±»é‡Œé¢ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…ˆæ³¨å…¥æ–‡ä»¶ï¼Œç”¨staticï¼Œè¿™æ ·ç±»ä¸€åŠ è½½å°±æœ‰äº†ï¼Œä¸éœ€è¦æ¯æ¬¡è°ƒç”¨æ—¶å€™é¢‘ç¹åˆ›å»º</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> DefaultRedisScript&lt;Long&gt; UNLOKC_SCRIPT;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        UNLOKC_SCRIPT = <span class="keyword">new</span> <span class="title class_">DefaultRedisScript</span>&lt;&gt;();</span><br><span class="line">        UNLOKC_SCRIPT.setLocation(<span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;unlock.lua&quot;</span>));</span><br><span class="line">        UNLOKC_SCRIPT.setResultType(Long.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŸºäºLuaè„šæœ¬é‡Šæ”¾é”</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unLock</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//è°ƒç”¨Luaè„šæœ¬</span></span><br><span class="line">        stringRedisTemplate.execute(</span><br><span class="line">                UNLOKC_SCRIPT,</span><br><span class="line">                Collections.singletonList(KEY_PREFIX + name),</span><br><span class="line">                ID_PREFIX + Thread.currentThread().getId());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="å†ä¼˜åŒ–"><a href="#å†ä¼˜åŒ–" class="headerlink" title="å†ä¼˜åŒ–"></a>å†ä¼˜åŒ–</h3><p>ä»¥ä¸Šçš„åˆ†å¸ƒå¼é”ï¼ˆç”¨redisçš„setnxï¼‰æ˜¯<strong>ä¸å¯é‡å…¥</strong>çš„ï¼Œä¼šå‡ºç°æ­»é”æƒ…å†µã€‚åŒæ—¶ï¼Œè¿™ä¸ªé”æ˜¯<strong>ä¸å¯é‡è¯•</strong>çš„ã€‚é›†ç¾¤ä¸­ä¸»ä»èŠ‚ç‚¹è¦è€ƒè™‘<strong>ä¸»ä»ä¸€è‡´æ€§</strong>é—®é¢˜ã€‚</p>
<p>ä½¿ç”¨Redissonçš„å¯é‡å…¥é”:</p>
<blockquote>
<ul>
<li><strong>å¯é‡å…¥</strong>ï¼šåˆ©ç”¨hashç»“æ„è®°å½•çº¿ç¨‹idå’Œé‡å…¥æ¬¡æ•°</li>
<li><strong>å¯é‡è¯•</strong>ï¼šåˆ©ç”¨ä¿¡å·é‡å’ŒPubSubåŠŸèƒ½å®ç°ç­‰å¾…ã€å”¤é†’ï¼Œè·å–é”å¤±è´¥çš„é‡è¯•æœºåˆ¶</li>
<li><strong>è¶…æ—¶ç»­çº¦</strong>ï¼šåˆ©ç”¨watchDogï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼ˆreleaseTime/3ï¼‰ï¼Œé‡ç½®è¶…æ—¶æ—¶é—´ã€‚</li>
</ul>
</blockquote>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>ä¸å¯é‡å…¥Redisåˆ†å¸ƒå¼é”ï¼š<ul>
<li>åŸç†ï¼šåˆ©ç”¨setnxäº’æ–¥æ€§ï¼›åˆ©ç”¨exé¿å…æ­»é”ï¼›é‡Šæ”¾é”æ—¶åˆ¤æ–­çº¿ç¨‹æ ‡è¯†</li>
<li>ç¼ºé™·ï¼šä¸å¯é‡å…¥ï¼Œæ— æ³•é‡è¯•ã€é”è¶…æ—¶å¤±æ•ˆ</li>
</ul>
</li>
<li>å¯é‡å…¥çš„Redisåˆ†å¸ƒå¼é”<ul>
<li>åŸç†ï¼šï¼ˆRedissonï¼‰åˆ©ç”¨hashç»“æ„ï¼Œè®°å½•çº¿ç¨‹é‡å…¥æ¬¡æ•°ï¼›åˆ©ç”¨watchDogå»¶ç»­é”æ—¶é—´ï¼›åˆ©ç”¨ä¿¡å·é‡æ§åˆ¶é”é‡è¯•ç­‰å¾…ã€‚</li>
<li>ç¼ºé™·ï¼šrediså®•æœºå¼•èµ·é”å¤±æ•ˆé—®é¢˜</li>
</ul>
</li>
<li>Redissonçš„MultiLockï¼š<ul>
<li>åŸç†ï¼šå¤šä¸ªç‹¬ç«‹çš„RedisèŠ‚ç‚¹ï¼Œå¿…é¡»åœ¨æ‰€æœ‰èŠ‚ç‚¹éƒ½è·å–é‡å…¥é”ï¼Œæ‰ç®—è·å–é”æˆåŠŸã€‚==ã€‹æœ€å®‰å…¨çš„ä¸€ç§ã€‚</li>
<li>ç¼ºé™·ï¼šè¿ç»´æˆæœ¬é«˜ï¼Œå®ç°å¤æ‚</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/16/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/16/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/" class="post-title-link" itemprop="url">å¦‚ä½•è®¾è®¡ä¸€ä¸ªç§’æ€ç³»ç»Ÿ</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-16 19:17:46 / ä¿®æ”¹æ—¶é—´ï¼š19:33:47" itemprop="dateCreated datePublished" datetime="2024-05-16T19:17:46+08:00">2024-05-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java%E5%85%AB%E8%82%A1/" itemprop="url" rel="index"><span itemprop="name">Javaå…«è‚¡</span></a>
                </span>
            </span>

          
            <span id="/2024/05/16/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/" class="post-meta-item leancloud_visitors" data-flag-title="å¦‚ä½•è®¾è®¡ä¸€ä¸ªç§’æ€ç³»ç»Ÿ" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/16/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/16/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>è½¬è½½äº<a target="_blank" rel="noopener" href="https://gongfukangee.github.io/2019/06/09/SecondsKill/#%E5%8F%82%E8%80%83">è¿™é‡Œ</a></p>
<h2 id="ç³»ç»Ÿç‰¹ç‚¹"><a href="#ç³»ç»Ÿç‰¹ç‚¹" class="headerlink" title="ç³»ç»Ÿç‰¹ç‚¹"></a>ç³»ç»Ÿç‰¹ç‚¹</h2><ul>
<li>é«˜æ€§èƒ½ï¼šç§’æ€æ¶‰åŠå¤§é‡çš„<strong>å¹¶å‘è¯»å’Œå¹¶å‘å†™</strong>ï¼Œå› æ­¤æ”¯æŒ<strong>é«˜å¹¶å‘</strong>è®¿é—®è¿™ç‚¹éå¸¸å…³é”®ã€‚</li>
<li>æ•°æ®ä¸€è‡´æ€§ï¼šæœ‰é™æ•°é‡çš„å•†å“åœ¨åŒä¸€æ—¶åˆ»è¢«å¾ˆå¤šå€çš„è¯·æ±‚åŒæ—¶æ¥å‡åº“å­˜ï¼Œåœ¨<strong>å¤§å¹¶å‘æ›´æ–°</strong>çš„è¿‡ç¨‹ä¸­éƒ½è¦ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ã€‚</li>
<li>é«˜å¯ç”¨ï¼šç§’æ€æ—¶ä¼šåœ¨ä¸€ç¬é—´æ¶Œå…¥å¤§é‡çš„æµé‡ï¼Œä¸ºäº†é¿å…ç³»ç»Ÿå®•æœºï¼Œä¿è¯é«˜å¯ç”¨ï¼Œéœ€è¦åšå¥½<strong>æµé‡é™åˆ¶</strong>ã€‚</li>
</ul>
<h2 id="ä¼˜åŒ–æ€è·¯"><a href="#ä¼˜åŒ–æ€è·¯" class="headerlink" title="ä¼˜åŒ–æ€è·¯"></a>ä¼˜åŒ–æ€è·¯</h2><ul>
<li>åç«¯ï¼šå°†è¯·æ±‚å°½é‡æ‹¦æˆªåœ¨ä¸Šæ¸¸</li>
</ul>
<blockquote>
<p>æ’å…¥ä¸€ä¸ªtipï¼Œåœ¨Javaä¸­ï¼Œæ–¹æ³•å£°æ˜ä¸­ä½¿ç”¨throwså…³é”®å­—å¯ä»¥å£°æ˜è¯¥æ–¹æ³•å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ã€‚</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/16/Leetcode0516/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/16/Leetcode0516/" class="post-title-link" itemprop="url">Leetcode0516</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-16 13:56:23 / ä¿®æ”¹æ—¶é—´ï¼š16:21:56" itemprop="dateCreated datePublished" datetime="2024-05-16T13:56:23+08:00">2024-05-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
                </span>
            </span>

          
            <span id="/2024/05/16/Leetcode0516/" class="post-meta-item leancloud_visitors" data-flag-title="Leetcode0516" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/16/Leetcode0516/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/16/Leetcode0516/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ä½¿ç”¨æ’å…¥æ³•æ’åºé“¾è¡¨"><a href="#ä½¿ç”¨æ’å…¥æ³•æ’åºé“¾è¡¨" class="headerlink" title="ä½¿ç”¨æ’å…¥æ³•æ’åºé“¾è¡¨"></a>ä½¿ç”¨æ’å…¥æ³•æ’åºé“¾è¡¨</h2><p>ç»™æˆ‘ç»•æ™•äº†è¿™é“é¢˜ã€‚ã€‚è¦å¾—åˆ°å‡åºçš„é“¾è¡¨ã€‚å¤§è‡´æ€è·¯æ˜¯ï¼š</p>
<ul>
<li>ç”¨sortedèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªå·²ç»æ’å¥½åºçš„é“¾è¡¨ï¼ŒsortedæŒ‡å‘è¯¥æœ‰åºåˆ—è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>ä½¿ç”¨curæŒ‡å‘å½“å‰è¦è¢«æ’å…¥çš„èŠ‚ç‚¹ï¼Œå½“ä¸éœ€è¦æ”¹å˜é¡ºåºæ—¶å€™curä¸sortedæ˜¯åŒæ—¶åç§»åŠ¨çš„ã€‚</li>
<li>å½“curè¦æ’å…¥æ—¶ï¼Œç”¨preä»å¤´éå†æ‰¾åˆ°æ’å…¥ä½ç½®çš„å‰é©±èŠ‚ç‚¹ã€‚</li>
</ul>
<p>å¤æ‚åº¦æ˜¯<code>O(n*n)</code></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/05/16/Leetcode0516/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/13/%E6%B5%B7%E5%BA%B725%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0-java%E5%BC%80%E5%8F%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/13/%E6%B5%B7%E5%BA%B725%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0-java%E5%BC%80%E5%8F%91/" class="post-title-link" itemprop="url">æµ·åº·25æš‘æœŸå®ä¹ -javaå¼€å‘</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-13 20:16:53" itemprop="dateCreated datePublished" datetime="2024-05-13T20:16:53+08:00">2024-05-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2024-05-14 19:04:53" itemprop="dateModified" datetime="2024-05-14T19:04:53+08:00">2024-05-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AF%95%E8%AE%B0%E5%BD%95/" itemprop="url" rel="index"><span itemprop="name">ç¬”è¯•è®°å½•</span></a>
                </span>
            </span>

          
            <span id="/2024/05/13/%E6%B5%B7%E5%BA%B725%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0-java%E5%BC%80%E5%8F%91/" class="post-meta-item leancloud_visitors" data-flag-title="æµ·åº·25æš‘æœŸå®ä¹ -javaå¼€å‘" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/13/%E6%B5%B7%E5%BA%B725%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0-java%E5%BC%80%E5%8F%91/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/13/%E6%B5%B7%E5%BA%B725%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0-java%E5%BC%80%E5%8F%91/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>æ˜¯åŒé—¨çš„ç¬”è¯•è®°å½•ï¼Œå¸®å¿™åšäº†ä¸€ä¸‹é¢˜ç›®ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹åšé¢˜è¿‡ç¨‹ä¸­è‡ªå·±è¿˜ä¸å¤ªä¼šçš„ä¸œè¥¿ã€‚</p>
<h2 id="æ¥å£å’ŒæŠ½è±¡ç±»å†…éƒ¨æ–¹æ³•çš„è®¿é—®æƒé™"><a href="#æ¥å£å’ŒæŠ½è±¡ç±»å†…éƒ¨æ–¹æ³•çš„è®¿é—®æƒé™" class="headerlink" title="æ¥å£å’ŒæŠ½è±¡ç±»å†…éƒ¨æ–¹æ³•çš„è®¿é—®æƒé™"></a>æ¥å£å’ŒæŠ½è±¡ç±»å†…éƒ¨æ–¹æ³•çš„è®¿é—®æƒé™</h2><p>å¯¹æŠ½è±¡ç±»æ¥è¯´ï¼ŒæŠ½è±¡ç±»å†…éƒ¨æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•<code>abstract</code>ï¼Œä½†æ˜¯æŠ½è±¡ç±»ä¸­æ–¹æ³•é»˜è®¤è®¿é—®æƒé™ä¸æ™®é€šç±»ç›¸åŒã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šè®¿é—®ä¿®é¥°ç¬¦ï¼Œåˆ™é»˜è®¤ä¸ºåŒ…å†…å¯è§ï¼ˆå³<code>default</code>è®¿é—®æƒé™ï¼‰</p>
<p>æ¥å£å†…çš„æ–¹æ³•é»˜è®¤æ˜¯<code>public</code>ï¼Œå³ä½¿æ²¡æœ‰æ˜¾ç¤ºåœ°å£°æ˜ä¸ºpublicã€‚</p>
<p><strong>è®¿é—®æƒé™åŒºåˆ«ï¼š</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>åŒç±»</th>
<th>åŒåŒ…</th>
<th>å­ç±»</th>
<th>å…¶ä»–åŒ…</th>
</tr>
</thead>
<tbody>
<tr>
<td>default</td>
<td>&check;</td>
<td>&check;</td>
<td>&cross;</td>
<td>&cross;</td>
</tr>
<tr>
<td>public</td>
<td>&check;</td>
<td>&check;</td>
<td>&check;</td>
<td>&check;</td>
</tr>
</tbody>
</table>
</div>
<h2 id="MySQLå¯¹è¡¨aåŠ å…±äº«é”"><a href="#MySQLå¯¹è¡¨aåŠ å…±äº«é”" class="headerlink" title="MySQLå¯¹è¡¨aåŠ å…±äº«é”"></a>MySQLå¯¹è¡¨aåŠ å…±äº«é”</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from a LOCK IN SHARE MODE</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/05/13/%E6%B5%B7%E5%BA%B725%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0-java%E5%BC%80%E5%8F%91/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/13/0513Leetcode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/13/0513Leetcode/" class="post-title-link" itemprop="url">0513Leetcode</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-13 15:18:13 / ä¿®æ”¹æ—¶é—´ï¼š16:50:53" itemprop="dateCreated datePublished" datetime="2024-05-13T15:18:13+08:00">2024-05-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
                </span>
            </span>

          
            <span id="/2024/05/13/0513Leetcode/" class="post-meta-item leancloud_visitors" data-flag-title="0513Leetcode" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/13/0513Leetcode/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/13/0513Leetcode/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä»Šå¤©ä¸‰é“é¢˜ã€‚</p>
<h2 id="ä¸¤æ•°ç›¸åŠ "><a href="#ä¸¤æ•°ç›¸åŠ " class="headerlink" title="ä¸¤æ•°ç›¸åŠ "></a>ä¸¤æ•°ç›¸åŠ </h2><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/add-two-numbers/description/?envType=study-plan-v2&amp;envId=top-100-liked">ä¸¤æ•°ç›¸åŠ </a></p>
<blockquote>
<p>ç»™ä½ ä¸¤ä¸ª <strong>éç©º</strong> çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§<strong> é€†åº </strong>çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</p>
</blockquote>
<p>è¿™ä¸ªé¢˜å°±æ˜¯è¦è€ƒè™‘è¿›ä½çš„é—®é¢˜ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/05/13/0513Leetcode/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/13/My-paper/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/13/My-paper/" class="post-title-link" itemprop="url">My_paper</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-13 09:00:05 / ä¿®æ”¹æ—¶é—´ï¼š15:51:28" itemprop="dateCreated datePublished" datetime="2024-05-13T09:00:05+08:00">2024-05-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Daily/" itemprop="url" rel="index"><span itemprop="name">Daily</span></a>
                </span>
            </span>

          
            <span id="/2024/05/13/My-paper/" class="post-meta-item leancloud_visitors" data-flag-title="My_paper" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/13/My-paper/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/13/My-paper/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="pre"><a href="#pre" class="headerlink" title="pre"></a>pre</h2><blockquote>
<p>æ··æ‚ç€ä¸€äº›éŸ³æ ‡orzï¼Œä»…è®°å½•</p>
</blockquote>
<p><img src= /images/paper2024-05-13.png style="zoom:50%;"></p>
<p>Dear experts and scholars, My name is LLM from zjut in China and I am here to talk about my paper, which was accepted at ijcnn2024, named as â€œAn Event-based Feature Representation Method for Event Stream Classification using Deep Spiking Neural Networks â€œ<br>First of all, I would like to introduce the research background of this paper. </p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/05/13/My-paper/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/12/%E6%A1%82%E6%9E%97%E9%93%B6%E8%A1%8C%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0%E9%9D%A2%E8%AF%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/12/%E6%A1%82%E6%9E%97%E9%93%B6%E8%A1%8C%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0%E9%9D%A2%E8%AF%95/" class="post-title-link" itemprop="url">æ¡‚æ—é“¶è¡Œæš‘æœŸå®ä¹ é¢è¯•</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-12 13:53:22 / ä¿®æ”¹æ—¶é—´ï¼š14:18:58" itemprop="dateCreated datePublished" datetime="2024-05-12T13:53:22+08:00">2024-05-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95/" itemprop="url" rel="index"><span itemprop="name">é¢è¯•è®°å½•</span></a>
                </span>
            </span>

          
            <span id="/2024/05/12/%E6%A1%82%E6%9E%97%E9%93%B6%E8%A1%8C%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0%E9%9D%A2%E8%AF%95/" class="post-meta-item leancloud_visitors" data-flag-title="æ¡‚æ—é“¶è¡Œæš‘æœŸå®ä¹ é¢è¯•" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/12/%E6%A1%82%E6%9E%97%E9%93%B6%E8%A1%8C%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0%E9%9D%A2%E8%AF%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/12/%E6%A1%82%E6%9E%97%E9%93%B6%E8%A1%8C%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0%E9%9D%A2%E8%AF%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>æ—¶é—´çº¿ï¼š</p>
<p>4.28 æŠ•é€’ç®€å†ï¼Œç«‹åˆ»æ”¶åˆ°æµ‹è¯„</p>
<p>4.29 é€šçŸ¥ç®€å†è¿‡ï¼Œå‘çŸ­ä¿¡é€šçŸ¥3å¤©å†…å®ŒæˆAIé¢è¯•</p>
<p>5.2 å®ŒæˆAIé¢è¯•</p>
<p>5.8 é€šçŸ¥è¿›å…¥é¢è¯•ï¼Œçº¦äº†å½“å‘¨å‘¨äº”æ—©ä¸Šä¹ç‚¹åŠ</p>
<p>5.10 é¢è¯•</p>
<p>5.11 æ„Ÿè°¢ä¿¡</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/05/12/%E6%A1%82%E6%9E%97%E9%93%B6%E8%A1%8C%E6%9A%91%E6%9C%9F%E5%AE%9E%E4%B9%A0%E9%9D%A2%E8%AF%95/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ccchaosss.github.io/2024/05/07/Leetcode0507/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="NekoCyan">
      <meta itemprop="description" content="ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NekoCyan's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/05/07/Leetcode0507/" class="post-title-link" itemprop="url">Leetcode0507</a>
        </h2>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-05-07 09:34:43 / ä¿®æ”¹æ—¶é—´ï¼š10:45:14" itemprop="dateCreated datePublished" datetime="2024-05-07T09:34:43+08:00">2024-05-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
                </span>
            </span>

          
            <span id="/2024/05/07/Leetcode0507/" class="post-meta-item leancloud_visitors" data-flag-title="Leetcode0507" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2024/05/07/Leetcode0507/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/05/07/Leetcode0507/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="å®Œå…¨èƒŒåŒ…ç†è®ºåŸºç¡€"><a href="#å®Œå…¨èƒŒåŒ…ç†è®ºåŸºç¡€" class="headerlink" title="å®Œå…¨èƒŒåŒ…ç†è®ºåŸºç¡€"></a>å®Œå…¨èƒŒåŒ…ç†è®ºåŸºç¡€</h2><p><strong>å®Œå…¨èƒŒåŒ…</strong>:æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªæœ€å¤šèƒ½èƒŒé‡é‡ä¸ºWçš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„é‡é‡æ˜¯weight[i]ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯value[i] ã€‚æ¯ä»¶ç‰©å“éƒ½æœ‰æ— é™ä¸ªï¼ˆä¹Ÿå°±æ˜¯å¯ä»¥æ”¾å…¥èƒŒåŒ…å¤šæ¬¡ï¼‰ï¼Œæ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…é‡Œç‰©å“ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<p><strong>å’Œ01èƒŒåŒ…é—®é¢˜çš„å”¯ä¸€ä¸åŒæ˜¯ï¼Œæ¯ä¸ªç‰©å“æœ‰æ— é™ä»¶ã€‚</strong></p>
<blockquote>
<p>0-1èƒŒåŒ…åœ¨ä½¿ç”¨æ»šåŠ¨æ•°ç»„æ—¶å€™ï¼Œç‰©å“è¦å€’åºéå†===&gt;é˜²æ­¢å¤šæ¬¡æ·»åŠ ã€‚</p>
</blockquote>
<p>è€Œå®Œå…¨èƒŒåŒ…ä¸éœ€è¦å€’åºéå†ï¼Œå› ä¸ºå¯ä»¥æ·»åŠ å¤šæ¬¡ï¼Œæ‰€ä»¥è¦ä»å°åˆ°å¤§å»éå†ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/05/07/Leetcode0507/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="NekoCyan"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">NekoCyan</p>
  <div class="site-description" itemprop="description">ã“ã®ä¸–ç•Œã¯ç§ã‚’è¦‹ã‚‹ç›®ã§ã‚ãµã‚Œã¦ã„ã‚‹ãŒã€ç§ã‚’è¦‹ã‚‹ã‚ãªãŸã¯ãŸã ä¸€äºº</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/CCCHAOSSS" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;CCCHAOSSS" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:lmliang11@foxmail.com" title="Email â†’ mailto:lmliang11@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>Email</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/10844960" title="Bilibili â†’ https:&#x2F;&#x2F;space.bilibili.com&#x2F;10844960" rel="noopener" target="_blank"><i class="fa fa-tv fa-fw"></i>Bilibili</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://music.163.com/#/user/home?id=560077164" title="NetEase â†’ https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;560077164" rel="noopener" target="_blank"><i class="fa fa-headphones fa-fw"></i>NetEase</a>
      </span>
  </div>



      </div>

      <!-- require APlayer -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
    <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
    <!-- require MetingJS-->
    <script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script> 
	<!--ç½‘æ˜“äº‘-->   
    <div class="aplayer" 
      data-id="9925058057" 
      data-server="netease" 
      data-type="playlist" 
      data-fixed="false" 
      data-autoplay="false" 
      data-list-folded="true"
      data-mutex="true"
      data-order="list" 
      data-loop="all"
      data-volume="0.3" 
      data-theme="#BCD2EE" 
      date-preload="auto" >

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">NekoCyan</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="[object Object]"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  















    <div id="pjax">
  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'X0nPzFjJu09btH1SzQTulEUS-gzGzoHsz',
      appKey     : 'olSo4KlKs6SLAaW6gkCeiJSs',
      placeholder: "(*â€²â–½`)æ¥è¯„è®ºå§!ä»€ä¹ˆéƒ½å¯ä»¥! ~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

    </div>

</body>
</html>
